pub fn check_perms() {
        super::message::info("Obtaining root permissions...\n");

        let mut cmd = self::run_as_normal_user("sudo");
        cmd.arg("true");

        if !cmd.spawn().unwrap().wait().unwrap().success() {
            super::message::error("Couldn't obtain root permissions.\n");
            quit::with_code(exitcode::USAGE);
        }
    }

pub fn run_as_normal_user<P: AsRef<super::OsStr>>(program: P) -> super::ProcCommand {
        let mut cmd = super::ProcCommand::new("sudo");
        cmd.args(["-E", "-n"]);
        cmd.arg(format!("-u#{}", *self::NORMAL_UID));
        cmd.arg("--");
        cmd.arg(program);
        cmd
    }

